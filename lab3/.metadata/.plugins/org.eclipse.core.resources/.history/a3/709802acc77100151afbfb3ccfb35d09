/*
 * swich.h
 *
 *  Created on: Oct 13, 2015
 *      Author: parallels
 */

#ifndef SWICH_H_
#define SWICH_H_

#include "bus_types.h"
#include "basic_initiator_port.h"

#include "systemc.h"
#include "basic_protocol.h"
#include "basic_slave_base.h"

using basic_protocol::basic_status;
using basic_protocol::basic_slave_base;
using tlm::tlm_transport_if;

using basic_protocol::basic_initiator_port;

class sw:
  public sc_module ,
  public virtual basic_slave_base< ADDRESS_TYPE , DATA_TYPE >
{
public:
  sw( sc_module_name module_name , int k,int i );

  SC_HAS_PROCESS( node );
  basic_initiator_port<ADDRESS_TYPE,DATA_TYPE> initiator_port;
  sc_export< if_type > target_port;

  int i;
  basic_status write( const ADDRESS_TYPE & , const DATA_TYPE & ); //why const?
  basic_status read( const ADDRESS_TYPE & , DATA_TYPE & );

  int count_transmit = 0;
  int count_receive=0;
  ~sw();
private:
  ADDRESS_TYPE *memory;
};


#endif /* SWICH_H_ */
